<a *ngIf="myInvestigator && myInvestigator.id!==0" type="button" title="Editar" class="text-info ml-2"
  data-toggle="modal" [attr.data-target]="'#modalFormInvestigator-'+myInvestigator.id">
  <i class="far fa-edit"></i>
</a>

<div *ngIf="myInvestigator && myInvestigator.id===0"
  class="btn btn-danger btn-sm float-left float-md-right mb-2 mb-md-0" data-toggle="modal"
  [attr.data-target]="'#modalFormInvestigator-'+myInvestigator.id">Agregar novedad</div>

<!-- Modal -->
<div *ngIf="myInvestigator" class="modal fade modal-width" [attr.id]="'modalFormInvestigator-'+myInvestigator.id"
  tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{title}}</h5>
        <button #closebutton type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form #productForm="ngForm">
        <div class="modal-body text-left">
          <div class="form-row">

            <div class="form-group col-12 col-md-6 order-first order-md-2">
              <label for="nombre">Nombre *</label>
              <input class="form-control" name="nombre" type="text" #nombre="ngModel"
                [(ngModel)]="myInvestigator.nombre" required placeholder="Nombre">
              <div *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)" class="alerta">
                <div *ngIf="nombre.errors.required">
                  Debe ingresar nombre
                </div>
              </div>
            </div>

            <div class="form-group col-12 col-md-6 order-first order-md-2">
              <label for="nombre">Título *</label>
              <input class="form-control" name="titulo" type="text" #titulo="ngModel"
                [(ngModel)]="myInvestigator.titulo" required placeholder="Título del investigador">
              <div *ngIf="titulo.invalid && (titulo.dirty || titulo.touched)" class="alerta">
                <div *ngIf="titulo.errors.required">
                  Debe ingresar título
                </div>
              </div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-12 order-first order-md-2">
              <label for="nombre">Email *</label>
              <input class="form-control" name="mail" type="text" #mail="ngModel"
                [(ngModel)]="myInvestigator.mail" required placeholder="Email del investigador">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-12 order-first order-md-2">
              <label for="nombre">Imagen *</label>
              <upso-upload-image [disk]="'investigators'" (uploadSuccess)="myInvestigator.imagen = $event"></upso-upload-image>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-12 col-md-6 order-first order-md-2">
              <label for="nombre">LinkedIn </label>
              <input class="form-control" name="linkedin" type="url" #linkedin="ngModel"
                [(ngModel)]="myInvestigator.linkedin" required placeholder="URL del perfil de LinkedIn">
            </div>

            <div class="form-group col-12 col-md-6 order-first order-md-2">
              <label for="nombre">Página Web </label>
              <input class="form-control" name="pagina" type="url" #pagina="ngModel" [(ngModel)]="myInvestigator.pagina"
                required placeholder="URL de su sitio web">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-12 mb-3">
              <label for="imagenInput">Descripción *</label>
              <textarea class="form-control" name="descripcion" type="text" #descripcion="ngModel"
                [(ngModel)]="myInvestigator.descripcion" required rows="4"
                placeholder="Ingresar una breve descripción (máximo 191 caracteres)"></textarea>
            </div>
          </div>


          <div class="form-row">

            <div *ngIf="errores" class="errores col-12">
              <div class="alert alert-danger" *ngFor="let error of errores">{{error}}</div>
            </div>

          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
          <button [disabled]="myInvestigator && !myInvestigator.imagen" type="button" class="btn btn-primary"
            (click)="confirmar()">
            <div class="spinner-border spinner-border-sm text-light" role="status" *ngIf="loading">
              <span class="sr-only">Loading...</span>
            </div>
            Confirmar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
